webpackJsonp([401],{1169:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",[t("p",[t("strong",[e._v("fdisk命令")]),e._v("用于观察硬盘实体使用情况，也可对硬盘分区。它采用传统的问答式界面，而非类似DOS fdisk的cfdisk互动式操作界面，因此在使用上较为不便，但功能却丝毫不打折扣。")]),e._v(" "),t("h3",[e._v("语法")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("fdisk(选项)(参数)\n")])]),e._v(" "),t("h3",[e._v("选项")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('-b<分区大小>：指定每个分区的大小；\n-l：列出指定的外围设备的分区表状况；\n-s<分区编号>：将指定的分区大小输出到标准输出上，单位为区块；\n-u：搭配"-l"参数列表，会用分区数目取代柱面数目，来表示每个分区的起始地址；\n-v：显示版本信息。\n')])]),e._v(" "),t("h3",[e._v("参数")]),e._v(" "),t("p",[e._v("设备文件：指定要进行分区或者显示分区的硬盘设备文件。")]),e._v(" "),t("h3",[e._v("实例")]),e._v(" "),t("p",[e._v("首先选择要进行操作的磁盘：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("[root@localhost ~]# fdisk /dev/sdb\n")])]),e._v(" "),t("p",[e._v("输入"),t("code",{pre:!0},[e._v("m")]),e._v("列出可以执行的命令：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('[command](#/command "command命令") (m for [help](#/help "help命令")): m\nCommand action\n   a   toggle a bootable flag\n   b   edit bsd disklabel\n   c   toggle the dos compatibility flag\n   d   delete a partition\n   l   list known partition types\n   m   print this menu\n   n   add a new partition\n   o   create a new empty DOS partition table\n   p   print the partition table\n   q   quit without saving changes\n   s   create a new empty Sun disklabel\n   t   change a partition\'s system [id](#/id "id命令")\n   u   change display/entry units\n   v   verify the partition table\n   [w](#/w "w命令")   [write](#/write "write命令") table to disk and [exit](#/exit "exit命令")\n   x   extra functionality (experts only)\n')])]),e._v(" "),t("p",[e._v("输入"),t("code",{pre:!0},[e._v("p")]),e._v("列出磁盘目前的分区情况：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("Command (m for help): p\n\nDisk /dev/sdb: 3221 MB, 3221225472 bytes\n255 heads, 63 sectors/track, 391 cylinders\nUnits = cylinders of 16065 * 512 = 8225280 bytes\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1               1           1        8001   8e  Linux LVM\n/dev/sdb2               2          26      200812+  83  Linux\n")])]),e._v(" "),t("p",[e._v("输入"),t("code",{pre:!0},[e._v("d")]),e._v("然后选择分区，删除现有分区：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("Command (m for help): d\nPartition number (1-4): 1\n\nCommand (m for help): d\nSelected partition 2\n")])]),e._v(" "),t("p",[e._v("查看分区情况，确认分区已经删除：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("Command (m for help): print\n\nDisk /dev/sdb: 3221 MB, 3221225472 bytes\n255 heads, 63 sectors/track, 391 cylinders\nUnits = cylinders of 16065 * 512 = 8225280 bytes\n\n   Device Boot      Start         End      Blocks   Id  System\n\nCommand (m for help):\n")])]),e._v(" "),t("p",[e._v("输入"),t("code",{pre:!0},[e._v("n")]),e._v("建立新的磁盘分区，首先建立两个主磁盘分区：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('Command (m for help): n\nCommand action\n   e   extended\n   p   primary partition (1-4)\np    //建立主分区\nPartition number (1-4): 1  //分区号\nFirst cylinder (1-391, default 1):  //分区起始位置\nUsing default value 1\n[last](#/last "last命令") cylinder or +size or +sizeM or +sizeK (1-391, default 391): 100  //分区结束位置，单位为扇区\n\nCommand (m for help): n  //再建立一个分区\nCommand action\n   e   extended\n   p   primary partition (1-4)\np \nPartition number (1-4): 2  //分区号为2\nFirst cylinder (101-391, default 101):\nUsing default value 101\nLast cylinder or +size or +sizeM or +sizeK (101-391, default 391): +200M  //分区结束位置，单位为M\n')])]),e._v(" "),t("p",[e._v("确认分区建立成功：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("Command (m for help): p\n\nDisk /dev/sdb: 3221 MB, 3221225472 bytes\n255 heads, 63 sectors/track, 391 cylinders\nUnits = cylinders of 16065 * 512 = 8225280 bytes\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1               1         100      803218+  83  Linux\n/dev/sdb2             101         125      200812+  83  Linux\n")])]),e._v(" "),t("p",[e._v("再建立一个逻辑分区：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("Command (m for help): n\nCommand action\n   e   extended\n   p   primary partition (1-4)\ne  //选择扩展分区\nPartition number (1-4): 3\nFirst cylinder (126-391, default 126):\nUsing default value 126\nLast cylinder or +size or +sizeM or +sizeK (126-391, default 391):\nUsing default value 391\n")])]),e._v(" "),t("p",[e._v("确认扩展分区建立成功：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("Command (m for help): p\n\nDisk /dev/sdb: 3221 MB, 3221225472 bytes\n255 heads, 63 sectors/track, 391 cylinders\nUnits = cylinders of 16065 * 512 = 8225280 bytes\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1               1         100      803218+  83  Linux\n/dev/sdb2             101         125      200812+  83  Linux\n/dev/sdb3             126         391     2136645    5  Extended\n")])]),e._v(" "),t("p",[e._v("在扩展分区上建立两个逻辑分区：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("Command (m for help): n\nCommand action\n   l   logical (5 or over)\n   p   primary partition (1-4)\nl //选择逻辑分区\nFirst cylinder (126-391, default 126):\nUsing default value 126\nLast cylinder or +size or +sizeM or +sizeK (126-391, default 391): +400M    \n\nCommand (m for help): n\nCommand action\n   l   logical (5 or over)\n   p   primary partition (1-4)\nl\nFirst cylinder (176-391, default 176):\nUsing default value 176\nLast cylinder or +size or +sizeM or +sizeK (176-391, default 391):\nUsing default value 391\n")])]),e._v(" "),t("p",[e._v("确认逻辑分区建立成功：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("Command (m for help): p\n\nDisk /dev/sdb: 3221 MB, 3221225472 bytes\n255 heads, 63 sectors/track, 391 cylinders\nUnits = cylinders of 16065 * 512 = 8225280 bytes\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1               1         100      803218+  83  Linux\n/dev/sdb2             101         125      200812+  83  Linux\n/dev/sdb3             126         391     2136645    5  Extended\n/dev/sdb5             126         175      401593+  83  Linux\n/dev/sdb6             176         391     1734988+  83  Linux\n\nCommand (m for help):\n")])]),e._v(" "),t("p",[e._v("从上面的结果我们可以看到，在硬盘sdb我们建立了2个主分区（sdb1，sdb2），1个扩展分区（sdb3），2个逻辑分区（sdb5，sdb6）")]),e._v(" "),t("p",[e._v("注意：主分区和扩展分区的磁盘号位1-4，也就是说最多有4个主分区或者扩展分区，逻辑分区开始的磁盘号为5，因此在这个实验中试没有sdb4的。")]),e._v(" "),t("p",[e._v("最后对分区操作进行保存：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('Command (m for help): w\nThe partition table has been altered!\n\nCalling ioctl() to re-[read](#/read "read命令") partition table.\nSyncing disks.\n')])]),e._v(" "),t("p",[e._v("建立好分区之后我们还需要对分区进行格式化才能在系统中使用磁盘。")]),e._v(" "),t("p",[e._v("在sdb1上建立ext2分区：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('[root@localhost ~]# [mkfs](#/mkfs "mkfs命令").ext2 /dev/sdb1\n[mke2fs](#/mke2fs "mke2fs命令") 1.39 (29-May-2006)\nFilesystem label=\nOS [type](#/type "type命令"): Linux\nBlock size=4096 (log=2)\nFragment size=4096 (log=2)\n100576 inodes, 200804 blocks\n10040 blocks (5.00%) reserved for the super user\nFirst data block=0\nMaximum filesystem blocks=209715200\n7 block [groups](#/groups "groups命令")\n32768 blocks per group, 32768 fragments per group\n14368 inodes per group\nSuperblock backups stored on blocks:\n        32768, 98304, 163840\n\nWriting inode tables: done                           \nWriting superblocks and filesystem accounting information: done\n\nThis filesystem will be automatically checked every 32 mounts or\n180 days, whichever comes first.  Use [tune2fs](#/tune2fs "tune2fs命令") -c or -i to override.\n')])]),e._v(" "),t("p",[e._v("在sdb6上建立ext3分区：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("[root@localhost ~]# mkfs.ext3 /dev/sdb6\nmke2fs 1.39 (29-May-2006)\nFilesystem label=\nOS type: Linux\nBlock size=4096 (log=2)\nFragment size=4096 (log=2)\n217280 inodes, 433747 blocks\n21687 blocks (5.00%) reserved for the super user\nFirst data block=0\nMaximum filesystem blocks=444596224\n14 block groups\n32768 blocks per group, 32768 fragments per group\n15520 inodes per group\nSuperblock backups stored on blocks:\n        32768, 98304, 163840, 229376, 294912\n\nWriting inode tables: done                           \nCreating journal (8192 blocks): done\nWriting superblocks and filesystem accounting information: done\n\nThis filesystem will be automatically checked every 32 mounts or\n180 days, whichever comes first.  Use tune2fs -c or -i to override.\n[root@localhost ~]#\n")])]),e._v(" "),t("p",[e._v("建立两个目录"),t("code",{pre:!0},[e._v("/oracle")]),e._v("和"),t("code",{pre:!0},[e._v("/web")]),e._v("，将新建好的两个分区挂载到系统：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('[root@localhost ~]# [mkdir](#/mkdir "mkdir命令") /oracle\n[root@localhost ~]# mkdir /web\n[root@localhost ~]# [mount](#/mount "mount命令") /dev/sdb1 /oracle\n[root@localhost ~]# mount /dev/sdb6 /web\n')])]),e._v(" "),t("p",[e._v("查看分区挂载情况：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('[root@localhost ~]# [df](#/df "df命令") -h\n文件系统              容量  已用 可用 已用% 挂载点\n/dev/mapper/VolGroup00-LogVol00\n                      6.7G  2.8G  3.6G  44% /\n/dev/sda1              99M   12M   82M  13% /boot\ntmpfs                 125M     0  125M   0% /dev/shm\n/dev/sdb1             773M  808K  733M   1% /oracle\n/dev/sdb6             1.7G   35M  1.6G   3% /web\n')])]),e._v(" "),t("p",[e._v("如果需要每次开机自动挂载则需要修改"),t("code",{pre:!0},[e._v("/etc/fstab")]),e._v("文件，加入两行配置：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("[root@localhost ~]# vim /etc/fstab\n\n/dev/VolGroup00/LogVol00 /                       ext3    defaults        1 1\nLABEL=/boot             /boot                   ext3    defaults        1 2\ntmpfs                   /dev/shm                tmpfs   defaults        0 0\ndevpts                  /dev/pts                devpts  gid=5,mode=620  0 0\nsysfs                   /sys                    sysfs   defaults        0 0\nproc                    /proc                   proc    defaults        0 0\n/dev/VolGroup00/LogVol01 swap                    swap    defaults        0 0\n/dev/sdb1               /oracle                 ext2    defaults        0 0\n/dev/sdb6               /web                    ext3    defaults        0 0\n")])])])}]}},150:function(e,n,t){e.exports=t(738)},738:function(e,n,t){var r=t(5)(null,t(1169),null,null,null);e.exports=r.exports}});
//# sourceMappingURL=401.369bd678e12442adabb0.js.map