webpackJsonp([159],{1370:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("p",[n("strong",[e._v("route命令")]),e._v("用来显示并设置Linux内核中的网络路由表，route命令设置的路由主要是静态路由。要实现两个不同的子网之间的通信，需要一台连接两个网络的路由器，或者同时位于两个网络的网关来实现。")]),e._v(" "),n("p",[e._v("在Linux系统中设置路由通常是为了解决以下问题：该Linux系统在一个局域网中，局域网中有一个网关，能够让机器访问Internet，那么就需要将这台机器的"),n("a",{attrs:{href:"#/ip",title:"ip命令"}},[e._v("ip")]),e._v("地址设置为Linux机器的默认路由。要注意的是，直接在命令行下执行route命令来添加路由，不会永久保存，当网卡重启或者机器重启之后，该路由就失效了；可以在"),n("code",{pre:!0},[e._v("/etc/rc.local")]),e._v("中添加route命令来保证该路由设置永久有效。")]),e._v(" "),n("h3",[e._v("语法")]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{"v-pre":""}},[e._v("route(选项)(参数)\n")])]),e._v(" "),n("h3",[e._v("选项")]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{"v-pre":""}},[e._v('-A：设置地址类型；\n-C：打印将Linux核心的路由缓存；\n-v：详细信息模式；\n-n：不执行DNS反向查找，直接显示数字形式的IP地址；\n-e：[netstat](#/netstat "netstat命令")格式显示路由表；\n-net：到一个网络的路由表；\n-[host](#/host "host命令")：到一个主机的路由表。\n')])]),e._v(" "),n("h3",[e._v("参数")]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{"v-pre":""}},[e._v("Add：增加指定的路由记录；\nDel：删除指定的路由记录；\nTarget：目的网络或目的主机；\ngw：设置默认网关；\nmss：设置TCP的最大区块长度（MSS），单位MB；\nwindow：指定通过路由表的TCP连接的TCP窗口大小；\ndev：路由记录所表示的网络接口。\n")])]),e._v(" "),n("h3",[e._v("实例")]),e._v(" "),n("p",[n("strong",[e._v("显示当前路由：")])]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{"v-pre":""}},[e._v("[root@localhost ~]# route\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n112.124.12.0    *               255.255.252.0   U     0      0        0 eth1\n10.160.0.0      *               255.255.240.0   U     0      0        0 eth0\n192.168.0.0     10.160.15.247   255.255.0.0     UG    0      0        0 eth0\n172.16.0.0      10.160.15.247   255.240.0.0     UG    0      0        0 eth0\n10.0.0.0        10.160.15.247   255.0.0.0       UG    0      0        0 eth0\ndefault         112.124.15.247  0.0.0.0         UG    0      0        0 eth1\n\n[root@localhost ~]# route -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n112.124.12.0    0.0.0.0         255.255.252.0   U     0      0        0 eth1\n10.160.0.0      0.0.0.0         255.255.240.0   U     0      0        0 eth0\n192.168.0.0     10.160.15.247   255.255.0.0     UG    0      0        0 eth0\n172.16.0.0      10.160.15.247   255.240.0.0     UG    0      0        0 eth0\n10.0.0.0        10.160.15.247   255.0.0.0       UG    0      0        0 eth0\n0.0.0.0         112.124.15.247  0.0.0.0         UG    0      0        0 eth1\n")])]),e._v(" "),n("p",[e._v("其中Flags为路由标志，标记当前网络节点的状态，Flags标志说明：")]),e._v(" "),n("ul",[n("li",[e._v("U Up表示此路由当前为启动状态。")]),e._v(" "),n("li",[e._v("H Host，表示此网关为一主机。")]),e._v(" "),n("li",[e._v("G Gateway，表示此网关为一路由器。")]),e._v(" "),n("li",[e._v("R Reinstate Route，使用动态路由重新初始化的路由。")]),e._v(" "),n("li",[e._v("D Dynamically,此路由是动态性地写入。")]),e._v(" "),n("li",[e._v("M Modified，此路由是由路由守护程序或导向器动态修改。")]),e._v(" "),n("li",[e._v("! 表示此路由当前为关闭状态。")])]),e._v(" "),n("p",[n("strong",[e._v("添加网关/设置网关：")])]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{"v-pre":""}},[e._v("route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0    #增加一条到达244.0.0.0的路由。\n")])]),e._v(" "),n("p",[n("strong",[e._v("屏蔽一条路由：")])]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{"v-pre":""}},[e._v('route add -net 224.0.0.0 netmask 240.0.0.0 [reject](#/reject "reject命令")     #增加一条屏蔽的路由，目的地址为224.x.x.x将被拒绝。\n')])]),e._v(" "),n("p",[n("strong",[e._v("删除路由记录：")])]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{"v-pre":""}},[e._v("route del -net 224.0.0.0 netmask 240.0.0.0\nroute del -net 224.0.0.0 netmask 240.0.0.0 reject\n")])]),e._v(" "),n("p",[n("strong",[e._v("删除和添加设置默认网关：")])]),e._v(" "),n("pre",{pre:!0},[n("code",{attrs:{"v-pre":""}},[e._v("route del default gw 192.168.120.240\nroute add default gw 192.168.120.240\n")])])])}]}},395:function(e,t,n){e.exports=n(983)},983:function(e,t,n){var r=n(5)(null,n(1370),null,null,null);e.exports=r.exports}});
//# sourceMappingURL=159.829237839fd5cc6d3df9.js.map