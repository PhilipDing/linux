webpackJsonp([452],{1581:function(e,o){e.exports={render:function(){var e=this,o=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("section",[r("p",[r("strong",[e._v("depmod命令")]),e._v("可产生模块依赖的映射文件，在构建嵌入式系统时，需要由这个命令来生成相应的文件，由"),r("a",{attrs:{href:"#/modprobe",title:"modprobe命令"}},[e._v("modprobe")]),e._v("使用。")]),e._v(" "),r("h3",[e._v("语法")]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v("depmod(选项)\n")])]),e._v(" "),r("h3",[e._v("选项")]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v('-a或--all：分析所有可用的模块；\n-d或debug：执行排错模式；\n-e：输出无法参照的符号；\n-i：不检查符号表的版本；\n-m<文件>或system-map<文件>：使用指定的符号表文件；\n-s或--system-log：在系统记录中记录错误；\n-v或--verbose：执行时显示详细的信息；\n-V或--version：显示版本信息；\n--[help](#/help "help命令")：显示帮助。\n')])]),e._v(" "),r("h3",[e._v("实例")]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v("depmod -b /home/windsome/EMMA3PF-KernelSource-20080626/install_pos -e -F ./boot/System.map -v 2.6.18_pro500-bcm91250-mips2_fp_be -A -a\n")])]),e._v(" "),r("ul",[r("li",[r("code",{pre:!0},[e._v("/home/windsome/EMMA3PF-KernelSource-20080626/install_pos")]),e._v("是我"),r("code",{pre:!0},[e._v('[make](#/make "make命令") mod_install')]),e._v("后，所有模块的存放路径。")]),e._v(" "),r("li",[r("code",{pre:!0},[e._v("./boot/System.map")]),e._v("是"),r("code",{pre:!0},[e._v("make linux")]),e._v("后生成，我拷贝到此目录的。")]),e._v(" "),r("li",[r("code",{pre:!0},[e._v("2.6.18_pro500-bcm91250-mips2_fp_be")]),e._v("是我build的linux的版本。")])]),e._v(" "),r("p",[e._v("编译linux过程及执行depmod的例子：")]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v('genkernel.sh ([at](#/at "at命令") linux-2.6.18_pro500)\n#######\n[export](#/export "export命令") INSTALL_ROOT_EMMA3PF="/home/windsome/EMMA3PF-KernelSource-20080626/install_pos"\nexport INSTALL_MOD_EMMA3PF="/home/windsome/EMMA3PF-KernelSource-20080626/install_pos"\n[rm](#/rm "rm命令") /home/windsome/EMMA3PF-KernelSource-20080626/install_pos/lib -rf\nrm /home/windsome/EMMA3PF-KernelSource-20080626/install_pos/boot/* -rf\n[cd](#/cd "cd命令") <linux_src_dir>\nmake\nmake modules_install\n[cp](#/cp "cp命令") vmlinux System.map /home/windsome/EMMA3PF-KernelSource-20080626/install_pos/boot/ -p\ncd /home/windsome/EMMA3PF-KernelSource-20080626/install_pos\ndepmod -b /home/windsome/EMMA3PF-KernelSource-20080626/install_pos -e -F ./boot/System.map -v 2.6.18_pro500-bcm91250-mips2_fp_be -A -a\n')])]),e._v(" "),r("p",[e._v("其他用法：")]),e._v(" "),r("p",[e._v("在linux桌面系统中，当你编译了新的驱动，为了能够用"),r("code",{pre:!0},[e._v("modprobe ***")]),e._v("加载模块, 你需要先将模块拷贝到"),r("code",{pre:!0},[e._v("/lib/modules /2.6.31-20-generic")]),e._v("目录下，然后运行"),r("code",{pre:!0},[e._v('[sudo](#/sudo "sudo命令") depmod -a')]),e._v("将模块信息写入modules.dep、modules.dep.bin、modules."),r("a",{attrs:{href:"#/alias",title:"alias命令"}},[e._v("alias")]),e._v(".bin、modules.alias和modules.pcimap文件中。")]),e._v(" "),r("p",[e._v("如，我编译了一个新的wifi驱动r8192se_pci.ko，将其拷贝到"),r("code",{pre:!0},[e._v("/lib/modules/2.6.31-20-generic/wireless")]),e._v("下，然后到"),r("code",{pre:!0},[e._v("/lib/modules/2.6.31-20-generic")]),e._v("运行"),r("code",{pre:!0},[e._v("depmod -a")]),e._v("，之后可以在任意目录运行modprobe r8192se_pci。")])])}]}},687:function(e,o,r){var n=r(5)(null,r(1581),null,null,null);e.exports=n.exports},98:function(e,o,r){e.exports=r(687)}});
//# sourceMappingURL=452.639936ddea2294def130.js.map