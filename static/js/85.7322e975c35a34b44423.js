webpackJsonp([85],{1060:function(t,e,r){var n=r(5)(null,r(1424),null,null,null);t.exports=n.exports},1424:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[t._m(0),t._v(" "),r("p",[t._v("TFTP是用来下载远程文件的最简单网络协议，它其于UDP协议而实现。嵌入式linux的tftp开发环境包括两个方面：一是linux服务器端的tftp-server支持，二是嵌入式目标系统的tftp-client支持。因为u-boot本身内置支持tftp-client，所以嵌入式目标系统端就不用配置了。下面就详细介绍一下linux服务器端tftp-server的配置。")]),t._v(" "),r("h3",[t._v("语法")]),t._v(" "),t._m(1),t._v(" "),r("h3",[t._v("选项")]),t._v(" "),t._m(2),t._v(" "),r("h3",[t._v("参数")]),t._v(" "),t._m(3),t._v(" "),r("h3",[t._v("实例")]),t._v(" "),t._m(4),t._v(" "),r("p",[t._v("需要安装xinetd、tftp和tftp-server 3个软件")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),r("p",[t._v("说明：修改项"),r("code",{pre:!0},[t._v("server_args= -s <path> -c")]),t._v("，其中"),r("path"),t._v("处可以改为你的tftp-server的根目录，参数-s指定"),r("a",{attrs:{href:"#/chroot",title:"chroot命令"}},[t._v("chroot")]),t._v("，-c指定了可以创建文件。")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),r("p",[t._v("看到启动[OK]就可以了")]),t._v(" "),r("p",[t._v("4、查看tftp服务是否开启")]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),r("p",[t._v("复制一个文件到tftp服务器目录，然后在主机启动tftp软件，进行简单测试。")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),r("p",[t._v("进入TFTP操作：")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),r("p",[t._v("命令格式为：")]),t._v(" "),t._m(24),t._v(" "),r("p",[t._v("如果要下载或上传文件的话是一定要用这些option的。")]),t._v(" "),t._m(25),t._v(" "),r("p",[t._v("例如，要从远程主机192.168.1.2上下载 embedexpert，则应输入以下命令")]),t._v(" "),t._m(26)])},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("strong",[t._v("tftp命令")]),t._v("用在本机和tftp服务器之间使用TFTP协议传输文件。")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v("tftp(选项)(参数)\n")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v("-c：指定与tftp服务器连接成功后，立即要执行的指令；\n-m：指定文件传输模式。可以是ASCII或者Binary；\n-v：显示指令详细执行过程；\n-V：显示指令版本信息。\n")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("主机：指定tftp要联机的tftp服务器的"),r("a",{attrs:{href:"#/ip",title:"ip命令"}},[t._v("ip")]),t._v("地址或主机名。")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("strong",[t._v("1、安装tftp服务器")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("如果能上网，通过"),r("a",{attrs:{href:"#/yum",title:"yum命令"}},[t._v("yum")]),t._v("安装：")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v('yum [install](#/install "install命令") xinetd\nyum install tftp\nyum install tftp-server\n')])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("如果不能上网，可以直接安装提供的"),r("a",{attrs:{href:"#/rpm",title:"rpm命令"}},[t._v("rpm")]),t._v("包：")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v("rpm -ivh xinetd-2.3.14-18.fc9.i386.rpm\nrpm -ivh tftp-0.48-3.fc9.i386.rpm\nrpm -ivh tftp-server-0.48-3.fc9.i386.rpm\n")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("strong",[t._v("2、配置tftp服务器")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("修改/etc/xinetd.d/tftp文件，将其中的disable="),r("a",{attrs:{href:"#/yes",title:"yes命令"}},[t._v("yes")]),t._v("改为disable=no。主要是设置TFTP服务器的根目录，开启服务。修改后的文件如下：")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v('[service](#/service "service命令") tftp\n{\n       socket_type           =dgram\n       protocol              =udp\n       [wait](#/wait "wait命令")                  =yes\n       user                  =root\n       server                =/usr/sbin/in.tftpd\n       server_args           =-s  /home/mike/tftpboot -c\n       disable               =no\n       per_source            =11\n       cps                   =100 2\n       flags                 =IPv4\n}\n')])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("strong",[t._v("3、启动tftp服务器并关闭防火墙")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v('/etc/[init](#/init "init命令").d/[iptables](#/iptables "iptables命令") stop        //关闭防火墙\n[sudo](#/sudo "sudo命令") /sbin/service xinetd start\n或\nservice xinetd restart\n/etc/init.d/xinetd start\n')])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v('[netstat](#/netstat "netstat命令") -a | [grep](#/grep "grep命令") tftp\n')])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("显示结果为"),r("code",{pre:!0},[t._v("udp 0 0 *:tftp *:*")]),t._v("表明服务已经开启，就表明tftp配置成功了。")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("strong",[t._v("5、tftp使用")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v('tftp 192.168.1.2\ntftp>get <download [file](#/file "file命令")> \n\ntftp>put <upload file>\ntftp>q\n')])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("strong",[t._v("6、tftp命令用法如下")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v("tftp your-ip-address\n")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("connect：连接到远程tftp服务器")]),t._v(" "),r("li",[t._v("mode：文件传输模式")]),t._v(" "),r("li",[t._v("put：上传文件")]),t._v(" "),r("li",[t._v("get：下载文件")]),t._v(" "),r("li",[t._v("quit：退出")]),t._v(" "),r("li",[t._v("verbose：显示详细的处理信息")]),t._v(" "),r("li",[t._v("tarce：显示包路径")]),t._v(" "),r("li",[t._v("status：显示当前状态信息")]),t._v(" "),r("li",[t._v("binary：二进制传输模式")]),t._v(" "),r("li",[t._v("ascii：ascii 传送模式")]),t._v(" "),r("li",[t._v("rexmt：设置包传输的超时时间")]),t._v(" "),r("li",[t._v("timeout：设置重传的超时时间")]),t._v(" "),r("li",[r("a",{attrs:{href:"#/help",title:"help命令"}},[t._v("help")]),t._v("：帮助信息")]),t._v(" "),r("li",[t._v("? ：帮助信息")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("strong",[t._v("7、如果老是出现“AVC Denial, click icon to view”的错误，并不能传输文件，需要作如下修改")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("修改"),r("code",{pre:!0},[t._v("/etc/sysconfig/selinux")]),t._v(",将SELINUX设定为disable，使用命令"),r("code",{pre:!0},[t._v("setenforce 0")]),t._v("让selinux配置文件生效。")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("strong",[t._v("8、Busybox中tftp命令的用法")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v('tftp [option] ... [host](#/host "host命令") [port]\n')])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v("-g 表示下载文件 (get)\n-p 表示上传文件 (put)\n-l 表示本地文件名 (local file)\n-r 表示远程主机的文件名 (remote file)\n")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[t._v("tftp -g -r embedexpert 192.168.1.2\n")])])}]}},471:function(t,e,r){t.exports=r(1060)}});
//# sourceMappingURL=85.7322e975c35a34b44423.js.map