webpackJsonp([483],{1365:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",[t("p",[t("strong",[e._v("chcon命令")]),e._v("是修改对象（文件）的安全上下文，比如：用户、角色、类型、安全级别。也就是将每个文件的安全环境变更至指定环境。使用"),t("code",{pre:!0},[e._v("--reference")]),e._v("选项时，把指定文件的安全环境设置为与参考文件相同。chcon命令位于"),t("code",{pre:!0},[e._v("/usr/bin/chcon")]),e._v("。")]),e._v(" "),t("h3",[e._v("语法")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("chcon [选项]... 环境 文件...\nchcon [选项]... [-u 用户] [-r 角色] [-l 范围] [-t 类型] 文件...\nchcon [选项]... --reference=参考文件 文件...\n")])]),e._v(" "),t("h3",[e._v("选项")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('-h, --no-dereference：影响符号连接而非引用的文件。\n    --reference=参考文件：使用指定参考文件的安全环境，而非指定值。\n-R, --recursive：递归处理所有的文件及子目录。\n-v, --verbose：为处理的所有文件显示诊断信息。\n-u, --user=用户：设置指定用户的目标安全环境。\n-r, --role=角色：设置指定角色的目标安全环境。\n-t, --[type](#/type "type命令")=类型：设置指定类型的目标安全环境。\n-l, --range=范围：设置指定范围的目标安全环境。\n')])]),e._v(" "),t("p",[e._v("以下选项是在指定了"),t("code",{pre:!0},[e._v("-R")]),e._v("选项时被用于设置如何穿越目录结构体系。如果您指定了多于一个选项，那么只有最后一个会生效。")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('-H：如果命令行参数是一个通到目录的符号链接，则遍历符号链接。\n-L：遍历每一个遇到的通到目录的符号链接。\n-P：不遍历任何符号链接（默认）。\n--[help](#/help "help命令")：显示此帮助信息并退出。\n--version：显示版本信息并退出。\n')])]),e._v(" "),t("h3",[e._v("实例")]),e._v(" "),t("p",[e._v("如果你想把这个"),t("a",{attrs:{href:"#/ftp",title:"ftp命令"}},[e._v("ftp")]),e._v("共享给匿名用户的话，需要开启以下：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("chcon -R -t public_content_t /var/ftp\n")])]),e._v(" "),t("p",[e._v("如果你想让你设置的FTP目录可以上传文件的话，SELINUX需要设置：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("chcon -t public_content_rw_t /var/ftp/incoming\n")])]),e._v(" "),t("p",[e._v("允许用户HHTP访问其家目录，该设定限仅于用户的家目录主页：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v('[setsebool](#/setsebool "setsebool命令") -P httpd_enable_homedirs 1\nchcon -R -t httpd_sys_content_t ~user/public_html\n')])]),e._v(" "),t("p",[e._v("如果你希望将samba目录共享给其他用户，你需要设置：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("chcon -t samba_share_t /directory\n")])]),e._v(" "),t("p",[e._v("共享"),t("a",{attrs:{href:"#/rsync",title:"rsync命令"}},[e._v("rsync")]),e._v("目录时：")]),e._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":""}},[e._v("chcon -t public_content_t /directories\n")])])])}]}},655:function(e,r,t){var n=t(5)(null,t(1365),null,null,null);e.exports=n.exports},66:function(e,r,t){e.exports=t(655)}});
//# sourceMappingURL=483.b4d18abfbae2d1b152e3.js.map