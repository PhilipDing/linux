webpackJsonp([198],{1289:function(e,s){e.exports={render:function(){var e=this,s=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("section",[r("p",[r("strong",[e._v("pssh命令")]),e._v("是一个python编写可以在多台服务器上执行命令的工具，同时支持拷贝文件，是同类工具中很出色的，类似pdsh，个人认为相对pdsh更为简便，使用必须在各个服务器上配置好密钥认证访问。")]),e._v(" "),r("h3",[e._v("安装pssh")]),e._v(" "),r("p",[e._v("在CentOS系统环境下，介绍"),r("a",{attrs:{href:"#/yum",title:"yum命令"}},[e._v("yum")]),e._v("的安装和源码安装的方式：")]),e._v(" "),r("p",[r("strong",[e._v("yum方法")])]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v('yum [install](#/install "install命令") pssh\n')])]),e._v(" "),r("p",[r("strong",[e._v("编译安装")])]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v('[wget](#/wget "wget命令") http://parallel-[ssh](#/ssh "ssh命令").googlecode.com/files/pssh-2.3.1.[tar](#/tar "tar命令").gz\ntar xf pssh-2.3.1.tar.gz\n[cd](#/cd "cd命令") pssh-2.3.1/\npython setup.py install\n')])]),e._v(" "),r("h3",[e._v("选项")]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v('--version：查看版本\n--[help](#/help "help命令")：查看帮助，即此信息\n-h：主机文件列表，内容格式”[user@][host](#/host "host命令")[:port]”\n-H：主机字符串，内容格式”[user@]host[:port]”\n-：登录使用的用户名\n-p：并发的线程数【可选】\n-o：输出的文件目录【可选】\n-e：错误输入文件【可选】\n-t：TIMEOUT 超时时间设置，0无限制【可选】\n-O：SSH的选项\n-v：详细模式\n-A：手动输入密码模式\n-x：额外的命令行参数使用空白符号，引号，反斜线处理\n-X：额外的命令行参数，单个参数模式，同-x\n-i：每个服务器内部处理信息输出\n-P：打印出服务器返回信息\n')])]),e._v(" "),r("h3",[e._v("实例")]),e._v(" "),r("p",[e._v("获取每台服务器的"),r("a",{attrs:{href:"#/uptime",title:"uptime命令"}},[e._v("uptime")]),e._v("：")]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v('# pssh -h [ip](#/ip "ip命令").txt -i uptime\n[1] 11:15:03 [SUCCESS] Mar.mars.he\n11:15:11 up 4 days, 16:25,  1 user,  load average: 0.00, 0.00, 0.00\n[2] 11:15:03 [SUCCESS] Jan.mars.he\n11:15:12 up 3 days, 23:26,  0 [users](#/users "users命令"),  load average: 0.00, 0.00, 0.00\n[3] 11:15:03 [SUCCESS] Feb.mars.he\n11:15:12 up 4 days, 16:26,  2 users,  load average: 0.08, 0.02, 0.01\n')])]),e._v(" "),r("p",[e._v("查看每台服务器上"),r("a",{attrs:{href:"#/mysql",title:"mysql命令"}},[e._v("mysql")]),e._v("复制IO/SQL线程运行状态信息：")]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v('# pssh -h IP.txt -i "/usr/local/mysql/bin/mysql -e \'show slave status \\G\'"|[grep](#/grep "grep命令") Running:\n             Slave_IO_Running: [yes](#/yes "yes命令")\n            Slave_SQL_Running: Yes\n             Slave_IO_Running: Yes\n            Slave_SQL_Running: Yes\n             Slave_IO_Running: Yes\n            Slave_SQL_Running: Yes\n')])]),e._v(" "),r("p",[e._v("保存每台服务器运行的结果：")]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v("# pssh -h IP.txt -i -o /tmp/pssh/ uptime\n[1] 11:19:47 [SUCCESS] Feb.mars.he\n11:19:55 up 4 days, 16:31,  2 users,  load average: 0.02, 0.03, 0.00\n[2] 11:19:47 [SUCCESS] Jan.mars.he\n11:19:56 up 3 days, 23:30,  0 users,  load average: 0.01, 0.00, 0.00\n[3] 11:19:47 [SUCCESS] Mar.mars.he\n11:19:56 up 4 days, 16:30,  1 user,  load average: 0.00, 0.00, 0.00\n")])]),e._v(" "),r("p",[e._v("我们来看一下/tmp/pssh/下的文件及其内容")]),e._v(" "),r("pre",{pre:!0},[r("code",{attrs:{"v-pre":""}},[e._v('# ll /tmp/pssh/\n总用量 12\n-rw-r--r--. 1 root root 70 12月  1 11:19 Feb.mars.he\n-rw-r--r--. 1 root root 70 12月  1 11:19 Jan.mars.he\n-rw-r--r--. 1 root root 69 12月  1 11:19 Mar.mars.he\n\n# [cat](#/cat "cat命令") /tmp/pssh/*\n11:19:55 up 4 days, 16:31,  2 users,  load average: 0.02, 0.03, 0.00\n11:19:56 up 3 days, 23:30,  0 users,  load average: 0.01, 0.00, 0.00\n11:19:56 up 4 days, 16:30,  1 user,  load average: 0.00, 0.00, 0.00\n')])]),e._v(" "),r("p",[e._v("上面介绍的是pssh命令很少的一部分，大家可以将其用到适合自己的场景，发挥它的最大功效。")])])}]}},356:function(e,s,r){e.exports=r(944)},944:function(e,s,r){var n=r(5)(null,r(1289),null,null,null);e.exports=n.exports}});
//# sourceMappingURL=198.a67b54db5e310868ceee.js.map