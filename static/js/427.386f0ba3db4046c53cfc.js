webpackJsonp([427],{1205:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",[e("p",[e("strong",[t._v("dstat命令")]),t._v("是一个用来替换"),e("a",{attrs:{href:"#/vmstat",title:"vmstat命令"}},[t._v("vmstat")]),t._v("、"),e("a",{attrs:{href:"#/iostat",title:"iostat命令"}},[t._v("iostat")]),t._v("、"),e("a",{attrs:{href:"#/netstat",title:"netstat命令"}},[t._v("netstat")]),t._v("、"),e("a",{attrs:{href:"#/nfsstat",title:"nfsstat命令"}},[t._v("nfsstat")]),t._v("和"),e("a",{attrs:{href:"#/ifstat",title:"ifstat命令"}},[t._v("ifstat")]),t._v("这些命令的工具，是一个全能系统信息统计工具。与sysstat相比，dstat拥有一个彩色的界面，在手动观察性能状况时，数据比较显眼容易观察；而且dstat支持即时刷新，譬如输入"),e("code",{pre:!0},[t._v("dstat 3")]),t._v("即每三秒收集一次，但最新的数据都会每秒刷新显示。和sysstat相同的是，dstat也可以收集指定的性能资源，譬如"),e("code",{pre:!0},[t._v("dstat -c")]),t._v("即显示CPU的使用情况。")]),t._v(" "),e("h3",[t._v("下载安装")]),t._v(" "),e("p",[e("strong",[t._v("方法一")])]),t._v(" "),e("pre",{pre:!0},[e("code",{attrs:{"v-pre":""}},[t._v('[yum](#/yum "yum命令") [install](#/install "install命令") -y dstat\n')])]),t._v(" "),e("p",[e("strong",[t._v("方法二")])]),t._v(" "),e("p",[t._v("官网下载地址：http://dag.wieers.com/"),e("a",{attrs:{href:"#/rpm",title:"rpm命令"}},[t._v("rpm")]),t._v("/packages/dstat")]),t._v(" "),e("pre",{pre:!0},[e("code",{attrs:{"v-pre":""}},[t._v('[wget](#/wget "wget命令") http://dag.wieers.com/rpm/packages/dstat/dstat-0.6.7-1.rh7.rf.noarch.rpm\nrpm -ivh dstat-0.6.7-1.rh7.rf.noarch.rpm\n')])]),t._v(" "),e("h3",[t._v("使用说明")]),t._v(" "),e("p",[t._v("安装完后就可以使用了，dstat非常强大，可以实时的监控cpu、磁盘、网络、IO、内存等使用情况。")]),t._v(" "),e("p",[t._v("直接使用dstat，默认使用的是"),e("code",{pre:!0},[t._v("-cdngy")]),t._v("参数，分别显示cpu、disk、net、page、system信息，默认是1s显示一条信息。可以在最后指定显示一条信息的时间间隔，如"),e("code",{pre:!0},[t._v("dstat 5")]),t._v("是没5s显示一条，"),e("code",{pre:!0},[t._v("dstat 5 10")]),t._v("表示没5s显示一条，一共显示10条。")]),t._v(" "),e("pre",{pre:!0},[e("code",{attrs:{"v-pre":""}},[t._v('[root@iZ23uulau1tZ ~]# dstat\n----total-cpu-usage---- -dsk/total- -net/total- ---paging-- ---system--\nusr sys idl wai hiq siq| [read](#/read "read命令")  writ| recv  send|  in   out | int   csw\n  0   0  99   0   0   0|7706B  164k|   0     0 |   0     0 | 189   225\n  0   0 100   0   0   0|   0     0 |4436B  826B|   0     0 | 195   248\n  1   0  99   0   0   0|   0     0 |4744B  346B|   0     0 | 203   242\n  0   0 100   0   0   0|   0     0 |5080B  346B|   0     0 | 206   242\n  0   1  99   0   0   0|   0     0 |5458B  444B|   0     0 | 214   244\n  1   0  99   0   0   0|   0     0 |5080B  346B|   0     0 | 208   242\n')])]),t._v(" "),e("p",[t._v("下面对显示出来的部分信息作一些说明：")]),t._v(" "),e("ol",[e("li",[t._v("cpu：hiq、siq分别为硬中断和软中断次数。")]),t._v(" "),e("li",[t._v("system：int、csw分别为系统的中断次数（interrupt）和上下文切换（context switch）。")])]),t._v(" "),e("p",[t._v("其他的都很好理解。")]),t._v(" "),e("h3",[t._v("语法")]),t._v(" "),e("pre",{pre:!0},[e("code",{attrs:{"v-pre":""}},[t._v("dstat [-afv] [options..] [delay [count]]\n")])]),t._v(" "),e("h3",[t._v("常用选项")]),t._v(" "),e("pre",{pre:!0},[e("code",{attrs:{"v-pre":""}},[t._v("-c：显示CPU系统占用，用户占用，空闲，等待，中断，软件中断等信息。\n-C：当有多个CPU时候，此参数可按需分别显示cpu状态，例：-C 0,1 是显示cpu0和cpu1的信息。\n-d：显示磁盘读写数据大小。\n-D hda,total：include hda and total。\n-n：显示网络状态。\n-N eth1,total：有多块网卡时，指定要显示的网卡。\n-l：显示系统负载情况。\n-m：显示内存使用情况。\n-g：显示页面使用情况。\n-p：显示进程状态。\n-s：显示交换分区使用情况。\n-S：类似D/N。\n-r：I/O请求情况。\n-y：系统状态。\n--ipc：显示ipc消息队列，信号等信息。\n--socket：用来显示tcp udp端口状态。\n-a：此为默认选项，等同于-cdngy。\n-v：等同于 -pmgdsc -D total。\n--output 文件：此选项也比较有用，可以把状态信息以csv的格式重定向到指定的文件中，以便日后查看。例：dstat --output /root/dstat.csv & 此时让程序默默的在后台运行并把结果输出到/root/dstat.csv文件中。\n")])]),t._v(" "),e("p",[t._v("当然dstat还有很多更高级的用法，常用的基本这些选项，更高级的用法可以结合"),e("a",{attrs:{href:"#/man",title:"man命令"}},[t._v("man")]),t._v("文档。")]),t._v(" "),e("h3",[t._v("实例")]),t._v(" "),e("p",[t._v("如想监控swap，process，sockets，filesystem并显示监控的时间：")]),t._v(" "),e("pre",{pre:!0},[e("code",{attrs:{"v-pre":""}},[t._v('[root@iZ23uulau1tZ ~]# dstat -tsp --socket --fs\n----system---- ----swap--- ---procs--- ------sockets------ --filesystem-\n  [date](#/date "date命令")/[time](#/time "time命令")   | used  [free](#/free "free命令")|run blk new|tot tcp udp raw frg|files  inodes\n26-07 09:23:48|   0     0 |  0   0 0.0|104   8   5   0   0|  704   6488\n26-07 09:23:49|   0     0 |  0   0   0|104   8   5   0   0|  704   6488\n26-07 09:23:50|   0     0 |  0   0   0|104   8   5   0   0|  704   6489\n26-07 09:23:51|   0     0 |  0   0   0|104   8   5   0   0|  704   6489\n26-07 09:23:52|   0     0 |  0   0   0|104   8   5   0   0|  704   6489\n26-07 09:23:53|   0     0 |  0   0   0|104   8   5   0   0|  704   6489\n')])]),t._v(" "),e("p",[t._v("若要将结果输出到文件可以加"),e("code",{pre:!0},[t._v("--output filename")]),t._v("：")]),t._v(" "),e("pre",{pre:!0},[e("code",{attrs:{"v-pre":""}},[t._v("[root@iZ23uulau1tZ ~]# dstat -tsp --socket --fs --output /tmp/ds.csv\n----system---- ----swap--- ---procs--- ------sockets------ --filesystem-\n  date/time   | used  free|run blk new|tot tcp udp raw frg|files  inodes\n26-07 09:25:31|   0     0 |  0   0 0.0|104   8   5   0   0|  736   6493\n26-07 09:25:32|   0     0 |  0   0   0|104   8   5   0   0|  736   6493\n26-07 09:25:33|   0     0 |  0   0   0|104   8   5   0   0|  736   6493\n26-07 09:25:34|   0     0 |  0   0   0|104   8   5   0   0|  736   6493\n26-07 09:25:35|   0     0 |  0   0   0|104   8   5   0   0|  736   6494\n26-07 09:25:36|   0     0 |  0   0   0|104   8   5   0   0|  736   6494\n")])]),t._v(" "),e("p",[t._v("这样生成的csv文件可以用excel打开，然后生成图表。")]),t._v(" "),e("p",[t._v("通过"),e("code",{pre:!0},[t._v("dstat --list")]),t._v("可以查看dstat能使用的所有参数，其中上面internal是dstat本身自带的一些监控参数，下面"),e("code",{pre:!0},[t._v("/usr/share/dstat")]),t._v("中是dstat的插件，这些插件可以扩展dstat的功能，如可以监控电源（battery）、"),e("a",{attrs:{href:"#/mysql",title:"mysql命令"}},[t._v("mysql")]),t._v("等。")]),t._v(" "),e("p",[t._v("下面这些插件并不是都可以直接使用的，有的还依赖其他包，如想监控mysql，必须要装python连接mysql的一些包。")]),t._v(" "),e("pre",{pre:!0},[e("code",{attrs:{"v-pre":""}},[t._v('[root@iZ23uulau1tZ ~]# dstat --list\ninternal:\n        aio, cpu, cpu24, disk, disk24, disk24old, epoch, fs, int, int24, io, ipc, load, lock, mem, net, page, page24, proc, raw, socket, swap, swapold, sys, tcp, time, udp, unix, vm\n/usr/share/dstat:\n        battery, battery-remain, cpufreq, dbus, disk-util, fan, freespace, gpfs, gpfs-ops, helloworld, innodb-buffer, innodb-io, innodb-ops, lustre, memcache-hits, mysql-io, mysql-keys, mysql5-cmds, mysql5-conn, mysql5-io, mysql5-keys,\n        net-packets, nfs3, nfs3-ops, nfsd3, nfsd3-ops, ntp, postfix, power, proc-count, rpc, rpcd, [sendmail](#/sendmail "sendmail命令"), snooze, thermal, [top](#/top "top命令")-bio, top-cpu, top-cputime, top-cputime-avg, top-io, top-latency, top-latency-avg, top-mem, top-oom, utmp,\n        vm-memctl, vmk-hba, vmk-int, vmk-nic, vz-cpu, vz-io, vz-ubc, wifi\n')])]),t._v(" "),e("p",[t._v("dstat命令的基本用法就说到这里，更多用法有待摸索，如果您需要补充内容请给我们发邮件，谢谢！")])])}]}},124:function(t,s,e){t.exports=e(713)},713:function(t,s,e){var a=e(5)(null,e(1205),null,null,null);t.exports=a.exports}});
//# sourceMappingURL=427.386f0ba3db4046c53cfc.js.map